# ERA5-Land æ•°æ®è‡ªåŠ¨ä¸‹è½½å·¥å…·

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ˜“äºä½¿ç”¨çš„ ERA5-Land å°æ—¶æ•°æ®è‡ªåŠ¨ä¸‹è½½å·¥å…·ï¼Œæ”¯æŒè‡ªå®šä¹‰æ—¶é—´èŒƒå›´ã€ç©ºé—´èŒƒå›´ã€å˜é‡é€‰æ‹©ï¼Œå¹¶æä¾›å®Œæ•´çš„æ•°æ®éªŒè¯åŠŸèƒ½ã€‚

## ğŸ“‹ ç›®å½•

- [åŠŸèƒ½ç‰¹ç‚¹](#åŠŸèƒ½ç‰¹ç‚¹)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [å®‰è£…é…ç½®](#å®‰è£…é…ç½®)
- [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
- [æ•°æ®éªŒè¯](#æ•°æ®éªŒè¯)
- [é«˜çº§åŠŸèƒ½](#é«˜çº§åŠŸèƒ½)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [æ–‡ä»¶è¯´æ˜](#æ–‡ä»¶è¯´æ˜)

---

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **è‡ªåŠ¨ä¸‹è½½**: è‡ªåŠ¨ä» Copernicus Climate Data Store (CDS) ä¸‹è½½ ERA5-Land æ•°æ®
- âœ… **çµæ´»é…ç½®**: æ”¯æŒè‡ªå®šä¹‰å˜é‡ã€æ—¶é—´èŒƒå›´ã€ç»çº¬åº¦èŒƒå›´ã€ä¿å­˜ä½ç½®
- âœ… **å¹¶è¡ŒåŠ é€Ÿ**: æ”¯æŒå¤šçº¿ç¨‹å¹¶è¡Œä¸‹è½½ï¼Œå¤§å¹…æå‡ä¸‹è½½é€Ÿåº¦
- âœ… **æ™ºèƒ½é‡è¯•**: ä¸‹è½½å¤±è´¥æ—¶è‡ªåŠ¨é‡è¯•ï¼Œå¯é…ç½®é‡è¯•æ¬¡æ•°å’Œå»¶è¿Ÿ
- âœ… **æ–­ç‚¹ç»­ä¼ **: è®°å½•ä¸‹è½½çŠ¶æ€ï¼Œå·²ä¸‹è½½çš„æ–‡ä»¶ä¸ä¼šé‡å¤ä¸‹è½½
- âœ… **è¿›åº¦æ˜¾ç¤º**: å®æ—¶æ˜¾ç¤ºä¸‹è½½è¿›åº¦å’ŒçŠ¶æ€

### æ•°æ®éªŒè¯
- âœ… **å˜é‡éªŒè¯**: æ£€æŸ¥æ‰€æœ‰è¯·æ±‚çš„å˜é‡æ˜¯å¦å­˜åœ¨ä¸”æ•°æ®å®Œæ•´
- âœ… **æ—¶é—´éªŒè¯**: éªŒè¯å¹´ä»½ã€æœˆä»½å’Œæ—¶é—´æ­¥æ•°æ˜¯å¦æ­£ç¡®
- âœ… **ç©ºé—´éªŒè¯**: éªŒè¯çº¬åº¦ã€ç»åº¦èŒƒå›´æ˜¯å¦åŒ¹é…
- âœ… **è‡ªåŠ¨æ—¥å¿—**: æ‰€æœ‰éªŒè¯ç»“æœè‡ªåŠ¨è®°å½•åˆ°æ—¥å¿—æ–‡ä»¶

### ä¾¿æ·åŠŸèƒ½
- âœ… **ZIPè‡ªåŠ¨è§£å‹**: è‡ªåŠ¨æ£€æµ‹å¹¶è§£å‹CDSè¿”å›çš„ZIPæ–‡ä»¶
- âœ… **å˜é‡åæ˜ å°„**: è‡ªåŠ¨å¤„ç†CDS APIå˜é‡åä¸NetCDFå˜é‡åçš„æ˜ å°„
- âœ… **æ–‡ä»¶åˆå¹¶**: å¯é€‰æ‹©å°†å¤šä¸ªæ–‡ä»¶åˆå¹¶ä¸ºå•ä¸ªNetCDFæ–‡ä»¶
- âœ… **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œæä¾›è¯¦ç»†çš„é”™è¯¯æ—¥å¿—

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

æˆ–æ‰‹åŠ¨å®‰è£…ï¼š
```bash
pip install cdsapi xarray netCDF4 pandas tqdm
```

### 2. é…ç½® CDS API

#### æ­¥éª¤ 1: æ³¨å†Œè´¦å·
è®¿é—® [Copernicus Climate Data Store](https://cds.climate.copernicus.eu/) å¹¶æ³¨å†Œè´¦å·ã€‚

#### æ­¥éª¤ 2: è·å– API Key
ç™»å½•åè®¿é—® [API Key é¡µé¢](https://cds.climate.copernicus.eu/api-how-to)ï¼Œå¤åˆ¶æ‚¨çš„ UID å’Œ API Keyã€‚

#### æ­¥éª¤ 3: åˆ›å»ºé…ç½®æ–‡ä»¶

**Windows ç³»ç»Ÿ**:  
åœ¨ `C:\Users\<ä½ çš„ç”¨æˆ·å>\.cdsapirc` åˆ›å»ºæ–‡ä»¶ï¼ˆæ³¨æ„æ²¡æœ‰æ‰©å±•åï¼‰

**Linux/Mac ç³»ç»Ÿ**:  
åœ¨ `~/.cdsapirc` åˆ›å»ºæ–‡ä»¶

æ–‡ä»¶å†…å®¹ï¼š
```
url: https://cds.climate.copernicus.eu/api/v2
key: <ä½ çš„UID>:<ä½ çš„API-Key>
```

**å¿«é€Ÿé…ç½®**ï¼ˆå¯é€‰ï¼‰:
```bash
python setup_cdsapi.py
```

### 3. è¿è¡Œç¤ºä¾‹

```bash
python quick_start_example.py
```

é€‰æ‹©ç¤ºä¾‹1ï¼Œä¸‹è½½ä¸­å›½åŒºåŸŸ2014å¹´1æœˆçš„æ¸©åº¦å’Œå¤ªé˜³è¾å°„æ•°æ®ã€‚

---

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```python
from download_ERA5_Land import ERA5LandDownloader

# åˆ›å»ºä¸‹è½½å™¨
downloader = ERA5LandDownloader(
    output_dir='./data',      # è¾“å‡ºç›®å½•
    max_workers=3,            # å¹¶è¡Œçº¿ç¨‹æ•°
    retry_times=3,            # é‡è¯•æ¬¡æ•°
    retry_delay=10            # é‡è¯•å»¶è¿Ÿï¼ˆç§’ï¼‰
)

# ä¸‹è½½æ•°æ®
files = downloader.download(
    variables=['2m_temperature', 'surface_solar_radiation_downwards'],
    start_date='2014-01-01',
    end_date='2014-01-31',
    area=[60, 70, 10, 140],   # [åŒ—, è¥¿, å—, ä¸œ]
    time_hours=None,          # Noneè¡¨ç¤ºæ‰€æœ‰24å°æ—¶
    split_by='month'          # æŒ‰æœˆåˆ†å‰²
)

print(f"æˆåŠŸä¸‹è½½ {len(files)} ä¸ªæ–‡ä»¶")
```

### å‚æ•°è¯´æ˜

#### ERA5LandDownloader å‚æ•°

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `output_dir` | str | `'./ERA5_Land_data'` | è¾“å‡ºç›®å½• |
| `max_workers` | int | `4` | å¹¶è¡Œä¸‹è½½çº¿ç¨‹æ•° |
| `retry_times` | int | `3` | å¤±è´¥é‡è¯•æ¬¡æ•° |
| `retry_delay` | int | `10` | é‡è¯•å»¶è¿Ÿï¼ˆç§’ï¼‰ |
| `variable_mapping` | dict | `None` | è‡ªå®šä¹‰å˜é‡åæ˜ å°„ |

#### download() å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ |
|------|------|------|------|
| `variables` | list | âœ… | å˜é‡ååˆ—è¡¨ |
| `start_date` | str | âœ… | å¼€å§‹æ—¥æœŸ 'YYYY-MM-DD' |
| `end_date` | str | âœ… | ç»“æŸæ—¥æœŸ 'YYYY-MM-DD' |
| `area` | list | âŒ | åŒºåŸŸèŒƒå›´ [N, W, S, E] |
| `time_hours` | list | âŒ | å°æ—¶åˆ—è¡¨ï¼ŒNoneè¡¨ç¤ºå…¨éƒ¨ |
| `split_by` | str | âŒ | åˆ†å‰²æ–¹å¼ 'month'/'year' |
| `merge_files` | bool | âŒ | æ˜¯å¦åˆå¹¶æ–‡ä»¶ |
| `final_output_name` | str | âŒ | åˆå¹¶åçš„æ–‡ä»¶å |

### å¸¸ç”¨å˜é‡å

| CDS API å˜é‡å | NetCDF å˜é‡å | è¯´æ˜ |
|---------------|--------------|------|
| `2m_temperature` | `t2m` | 2ç±³æ¸©åº¦ |
| `2m_dewpoint_temperature` | `d2m` | 2ç±³éœ²ç‚¹æ¸©åº¦ |
| `surface_solar_radiation_downwards` | `ssrd` | åœ°è¡¨å‘ä¸‹çŸ­æ³¢è¾å°„ |
| `surface_thermal_radiation_downwards` | `strd` | åœ°è¡¨å‘ä¸‹é•¿æ³¢è¾å°„ |
| `10m_u_component_of_wind` | `u10` | 10ç±³Ué£é€Ÿ |
| `10m_v_component_of_wind` | `v10` | 10ç±³Vé£é€Ÿ |
| `total_precipitation` | `tp` | æ€»é™æ°´é‡ |
| `surface_pressure` | `sp` | åœ°è¡¨æ°”å‹ |

å®Œæ•´å˜é‡åˆ—è¡¨è¯·å‚è€ƒ [CDS æ–‡æ¡£](https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-land)ã€‚

---

## ğŸ” æ•°æ®éªŒè¯

### è‡ªåŠ¨éªŒè¯

ä¸‹è½½çš„æ¯ä¸ªæ–‡ä»¶éƒ½ä¼šè‡ªåŠ¨è¿›è¡Œå…¨é¢éªŒè¯ï¼ŒåŒ…æ‹¬ï¼š

#### 1. å˜é‡éªŒè¯
- âœ… æ£€æŸ¥æ‰€æœ‰è¯·æ±‚çš„å˜é‡æ˜¯å¦å­˜åœ¨
- âœ… è‡ªåŠ¨å¤„ç†å˜é‡åæ˜ å°„
- âœ… éªŒè¯å˜é‡æ•°æ®éç©º

#### 2. æ—¶é—´èŒƒå›´éªŒè¯
- âœ… éªŒè¯å¹´ä»½æ˜¯å¦æ­£ç¡®ï¼ˆä¸¥æ ¼ï¼‰
- âœ… éªŒè¯æœˆä»½æ˜¯å¦æ­£ç¡®ï¼ˆä¸¥æ ¼ï¼‰
- âš ï¸ æ£€æŸ¥æ—¶é—´æ­¥æ•°æ˜¯å¦åˆç†ï¼ˆå…è®¸Â±10%è¯¯å·®ï¼‰

#### 3. ç©ºé—´èŒƒå›´éªŒè¯
- âš ï¸ éªŒè¯çº¬åº¦èŒƒå›´ï¼ˆå…è®¸Â±0.5Â°è¯¯å·®ï¼‰
- âš ï¸ éªŒè¯ç»åº¦èŒƒå›´ï¼ˆå…è®¸Â±0.5Â°è¯¯å·®ï¼‰

#### 4. æ•°æ®å®Œæ•´æ€§
- âœ… ç»Ÿè®¡æœ‰æ•ˆæ•°æ®ç‚¹æ•°é‡å’Œæ¯”ä¾‹

### éªŒè¯æ—¥å¿—

æ‰€æœ‰éªŒè¯ç»“æœè‡ªåŠ¨è®°å½•åˆ°æ—¥å¿—æ–‡ä»¶ï¼š
```
<output_dir>/logs/verification_log.txt
```

æ—¥å¿—ç¤ºä¾‹ï¼š
```
[2025-12-23 12:46:22] â„¹ï¸ [INFO] å¼€å§‹éªŒè¯æ–‡ä»¶: ERA5_Land_xxx.nc
[2025-12-23 12:46:22] âœ… [SUCCESS] æ–‡ä»¶æ‰“å¼€æˆåŠŸ
[2025-12-23 12:46:22] â„¹ï¸ [INFO] æ–‡ä»¶å¤§å°: 558.23 MB

[2025-12-23 12:46:22] â„¹ï¸ [INFO] ã€1/4ã€‘å˜é‡éªŒè¯
[2025-12-23 12:46:22] âœ… [SUCCESS]   âœ… å˜é‡å­˜åœ¨: 2m_temperature (æ˜ å°„ä¸º t2m)

[2025-12-23 12:46:22] â„¹ï¸ [INFO] ã€2/4ã€‘æ•°æ®å®Œæ•´æ€§éªŒè¯
[2025-12-23 12:46:25] âœ… [SUCCESS]   âœ… 2m_temperature: 261,293,544 æ•°æ®ç‚¹, 189,179,112 æœ‰æ•ˆ (72.4%)

[2025-12-23 12:46:28] â„¹ï¸ [INFO] ã€3/4ã€‘æ—¶é—´èŒƒå›´éªŒè¯
[2025-12-23 12:46:28] âœ… [SUCCESS]   âœ… å¹´ä»½åŒ¹é…: 2014
[2025-12-23 12:46:28] âœ… [SUCCESS]   âœ… æœˆä»½åŒ¹é…: 1

[2025-12-23 12:46:28] â„¹ï¸ [INFO] ã€4/4ã€‘ç©ºé—´èŒƒå›´éªŒè¯
[2025-12-23 12:46:28] âœ… [SUCCESS]   âœ… çº¬åº¦èŒƒå›´åŒ¹é… (è¯¯å·® 0.00Â°)

[2025-12-23 12:46:28] âœ… [SUCCESS] âœ… æ–‡ä»¶éªŒè¯é€šè¿‡ï¼æ‰€æœ‰æ£€æŸ¥é¡¹å‡ç¬¦åˆè¦æ±‚
```

### æŸ¥çœ‹éªŒè¯æ—¥å¿—

```bash
# Windows
notepad <output_dir>\logs\verification_log.txt

# Linux/Mac
cat <output_dir>/logs/verification_log.txt
```

---

## ğŸ”§ é«˜çº§åŠŸèƒ½

### 1. ä½¿ç”¨é…ç½®æ–‡ä»¶

åˆ›å»º `download_config.json`:
```json
{
  "output_dir": "./data/china_2014",
  "max_workers": 5,
  "retry_times": 3,
  "variables": ["2m_temperature", "total_precipitation"],
  "start_date": "2014-01-01",
  "end_date": "2014-12-31",
  "area": [60, 70, 10, 140],
  "split_by": "month"
}
```

è¿è¡Œï¼š
```bash
python download_ERA5_Land_with_config.py download_config.json
```

### 2. è‡ªå®šä¹‰å˜é‡åæ˜ å°„

å¦‚æœé‡åˆ°å˜é‡åä¸åŒ¹é…çš„é—®é¢˜ï¼š

```python
custom_mapping = {
    'your_cds_variable_name': 'actual_netcdf_variable_name'
}

downloader = ERA5LandDownloader(
    variable_mapping=custom_mapping
)
```

### 3. é‡è¯•å¤±è´¥çš„ä¸‹è½½

```python
downloader = ERA5LandDownloader(output_dir='./data')

# é‡è¯•æ‰€æœ‰å¤±è´¥çš„ä»»åŠ¡
downloaded_files = downloader.retry_failed_downloads()
```

### 4. åˆå¹¶å¤šä¸ªæ–‡ä»¶

```python
files = downloader.download(
    variables=['2m_temperature'],
    start_date='2014-01-01',
    end_date='2014-12-31',
    split_by='month',
    merge_files=True,
    final_output_name='ERA5_Land_2014.nc'
)
```

### 5. ä¸‹è½½ç®¡ç†

```bash
# æŸ¥çœ‹ä¸‹è½½çŠ¶æ€
python manage_downloads.py status

# é‡è¯•å¤±è´¥çš„ä¸‹è½½
python manage_downloads.py retry

# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
python manage_downloads.py clean
```

---

## ğŸ“‚ è¾“å‡ºæ–‡ä»¶ç»“æ„

```
<output_dir>/
â”œâ”€â”€ logs/
â”‚   â”œâ”€â”€ download_status.json      # ä¸‹è½½çŠ¶æ€è®°å½•
â”‚   â””â”€â”€ verification_log.txt      # éªŒè¯æ—¥å¿—
â”œâ”€â”€ temp/                          # ä¸´æ—¶æ–‡ä»¶ç›®å½•
â””â”€â”€ ERA5_Land_<å˜é‡>_<æ—¶é—´>.nc    # ä¸‹è½½çš„æ•°æ®æ–‡ä»¶
```

### download_status.json

è®°å½•æ¯ä¸ªä»»åŠ¡çš„ä¸‹è½½çŠ¶æ€ï¼š
```json
{
  "201401": {
    "status": "completed",
    "file": "ERA5_Land_xxx_201401.nc",
    "timestamp": "2025-12-23T12:00:00",
    "variables": ["2m_temperature"],
    "task": {...}
  }
}
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•è·å– CDS API Keyï¼Ÿ

**A**: 
1. è®¿é—® https://cds.climate.copernicus.eu/
2. æ³¨å†Œå¹¶ç™»å½•
3. è®¿é—® https://cds.climate.copernicus.eu/api-how-to
4. å¤åˆ¶ UID å’Œ API Key

### Q2: ä¸‹è½½é€Ÿåº¦æ…¢æ€ä¹ˆåŠï¼Ÿ

**A**: 
- å¢åŠ å¹¶è¡Œçº¿ç¨‹æ•°ï¼š`max_workers=8`
- CDSæœåŠ¡å™¨åœ¨æ¬§æ´²ï¼Œå›½å†…è®¿é—®å¯èƒ½è¾ƒæ…¢
- é¿å…åœ¨é«˜å³°æ—¶æ®µä¸‹è½½

### Q3: å‡ºç° "æ–‡ä»¶éªŒè¯å¤±è´¥" é”™è¯¯ï¼Ÿ

**A**: 
1. æŸ¥çœ‹éªŒè¯æ—¥å¿—ï¼š`<output_dir>/logs/verification_log.txt`
2. æ£€æŸ¥å˜é‡åæ˜¯å¦æ­£ç¡®
3. å¦‚æœæ˜¯å˜é‡åæ˜ å°„é—®é¢˜ï¼Œæ·»åŠ è‡ªå®šä¹‰æ˜ å°„
4. å¦‚æœæ˜¯æ—¶é—´/ç©ºé—´èŒƒå›´é—®é¢˜ï¼Œæ£€æŸ¥ä¸‹è½½å‚æ•°

### Q4: å¦‚ä½•ä¸‹è½½å…¨çƒæ•°æ®ï¼Ÿ

**A**: 
å°† `area` å‚æ•°è®¾ä¸º `None`:
```python
files = downloader.download(
    variables=['2m_temperature'],
    start_date='2014-01-01',
    end_date='2014-01-31',
    area=None  # å…¨çƒæ•°æ®
)
```

### Q5: å¯ä»¥ä¸‹è½½ç‰¹å®šå°æ—¶çš„æ•°æ®å—ï¼Ÿ

**A**: 
å¯ä»¥ï¼Œä½¿ç”¨ `time_hours` å‚æ•°ï¼š
```python
files = downloader.download(
    variables=['2m_temperature'],
    start_date='2014-01-01',
    end_date='2014-01-31',
    time_hours=['00:00', '06:00', '12:00', '18:00']  # æ¯6å°æ—¶
)
```

### Q6: ä¸‹è½½çš„æ–‡ä»¶æ˜¯ZIPæ ¼å¼æ€ä¹ˆåŠï¼Ÿ

**A**: 
å·¥å…·ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶è§£å‹ZIPæ–‡ä»¶ï¼Œæ— éœ€æ‰‹åŠ¨å¤„ç†ã€‚

### Q7: å¦‚ä½•æŸ¥çœ‹ä¸‹è½½è¿›åº¦ï¼Ÿ

**A**: 
- æ§åˆ¶å°ä¼šå®æ—¶æ˜¾ç¤ºè¿›åº¦æ¡
- æŸ¥çœ‹ `download_status.json` äº†è§£è¯¦ç»†çŠ¶æ€
- æŸ¥çœ‹ `verification_log.txt` äº†è§£éªŒè¯ç»“æœ

### Q8: éªŒè¯æ—¥å¿—ä¸­çš„WARNINGéœ€è¦å¤„ç†å—ï¼Ÿ

**A**: 
é€šå¸¸ä¸éœ€è¦ã€‚WARNINGè¡¨ç¤ºè½»å¾®åå·®ï¼ˆå¦‚æ—¶é—´æ­¥æ•°å·®å¼‚<10%ï¼Œç©ºé—´èŒƒå›´åå·®<0.5Â°ï¼‰ï¼Œä¸å½±å“æ•°æ®ä½¿ç”¨ã€‚

---

## ğŸ“ æ–‡ä»¶è¯´æ˜

### æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `download_ERA5_Land.py` | æ ¸å¿ƒä¸‹è½½æ¨¡å— |
| `quick_start_example.py` | å¿«é€Ÿå¼€å§‹ç¤ºä¾‹ |
| `download_ERA5_Land_with_config.py` | é…ç½®æ–‡ä»¶ä¸‹è½½ |
| `manage_downloads.py` | ä¸‹è½½ç®¡ç†å·¥å…· |
| `setup_cdsapi.py` | CDS API é…ç½®åŠ©æ‰‹ |
| `requirements.txt` | Pythonä¾èµ–åˆ—è¡¨ |
| `README.md` | æœ¬æ–‡æ¡£ |

### é…ç½®æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `download_config.json` | ä¸‹è½½é…ç½®ç¤ºä¾‹ |
| `~/.cdsapirc` | CDS API é…ç½®æ–‡ä»¶ |

### è¾“å‡ºæ–‡ä»¶

| æ–‡ä»¶/ç›®å½• | è¯´æ˜ |
|----------|------|
| `<output_dir>/logs/download_status.json` | ä¸‹è½½çŠ¶æ€ |
| `<output_dir>/logs/verification_log.txt` | éªŒè¯æ—¥å¿— |
| `<output_dir>/temp/` | ä¸´æ—¶æ–‡ä»¶ |
| `<output_dir>/*.nc` | æ•°æ®æ–‡ä»¶ |

---

## ğŸ“Š ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: ä¸‹è½½ä¸­å›½åŒºåŸŸæ•°æ®

```python
from download_ERA5_Land import ERA5LandDownloader

downloader = ERA5LandDownloader(output_dir='./data/china_2014')

files = downloader.download(
    variables=['2m_temperature', 'total_precipitation'],
    start_date='2014-01-01',
    end_date='2014-12-31',
    area=[60, 70, 10, 140],  # ä¸­å›½åŒºåŸŸ
    split_by='month'
)
```

### ç¤ºä¾‹2: ä¸‹è½½ç‰¹å®šå°æ—¶æ•°æ®

```python
files = downloader.download(
    variables=['surface_solar_radiation_downwards'],
    start_date='2014-01-01',
    end_date='2014-01-31',
    area=[40, 100, 30, 120],
    time_hours=['12:00'],  # ä»…æ­£åˆæ•°æ®
    split_by='month'
)
```

### ç¤ºä¾‹3: ä¸‹è½½å¹¶åˆå¹¶æ–‡ä»¶

```python
files = downloader.download(
    variables=['2m_temperature'],
    start_date='2014-01-01',
    end_date='2014-03-31',
    area=[40, 100, 30, 120],
    split_by='month',
    merge_files=True,
    final_output_name='ERA5_Land_2014_Q1.nc'
)
```

### ç¤ºä¾‹4: æ‰¹é‡ä¸‹è½½å¤šå¹´æ•°æ®

```python
downloader = ERA5LandDownloader(
    output_dir='./data/multi_year',
    max_workers=5
)

for year in range(2010, 2021):
    print(f"ä¸‹è½½ {year} å¹´æ•°æ®...")
    files = downloader.download(
        variables=['2m_temperature', 'total_precipitation'],
        start_date=f'{year}-01-01',
        end_date=f'{year}-12-31',
        area=[40, 100, 30, 120],
        split_by='month'
    )
    print(f"{year} å¹´å®Œæˆ: {len(files)} ä¸ªæ–‡ä»¶")
```

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **CDS APIé…ç½®**: å¿…é¡»å…ˆé…ç½®CDS APIæ‰èƒ½ä¸‹è½½æ•°æ®
2. **ä¸‹è½½é™åˆ¶**: CDSå¯¹å•æ¬¡è¯·æ±‚çš„æ•°æ®é‡æœ‰é™åˆ¶ï¼Œå»ºè®®æŒ‰æœˆåˆ†å‰²
3. **å­˜å‚¨ç©ºé—´**: ERA5-Landæ•°æ®é‡è¾ƒå¤§ï¼Œç¡®ä¿æœ‰è¶³å¤Ÿçš„å­˜å‚¨ç©ºé—´
4. **ç½‘ç»œç¨³å®š**: ä¸‹è½½å¤§æ–‡ä»¶éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥
5. **éªŒè¯æ—¥å¿—**: å®šæœŸæŸ¥çœ‹éªŒè¯æ—¥å¿—ï¼Œç¡®ä¿æ•°æ®è´¨é‡

---

## ğŸ“š ç›¸å…³èµ„æº

- [ERA5-Land æ•°æ®é›†](https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-land)
- [CDS API æ–‡æ¡£](https://cds.climate.copernicus.eu/api-how-to)
- [xarray æ–‡æ¡£](https://docs.xarray.dev/)
- [NetCDF æ ¼å¼è¯´æ˜](https://www.unidata.ucar.edu/software/netcdf/)

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦æœ¯ç ”ç©¶ä½¿ç”¨ã€‚

---

## ğŸ‘¨â€ğŸ’» æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
1. æœ¬æ–‡æ¡£çš„å¸¸è§é—®é¢˜éƒ¨åˆ†
2. éªŒè¯æ—¥å¿—æ–‡ä»¶
3. ä¸‹è½½çŠ¶æ€æ–‡ä»¶

---

**ç‰ˆæœ¬**: v2.1  
**æ›´æ–°æ—¥æœŸ**: 2025-12-23

